<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Goal Tracker</title>
  <link rel="stylesheet" href="/toy_front/css/default.css">
  <style>
.add-tracker-page {
  padding: 16px;
  margin-bottom: 60px; /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ê³µê°„ í™•ë³´ */
}

.add-tracker-page h2 {
  font-size: 1.5rem;
  margin-bottom: 16px;
}

.form-item {
  display: flex;
  flex-direction: column;
  margin-bottom: 16px;
}

.form-item label {
  margin-bottom: 6px;
  font-weight: 500;
  color: #333;
}

.form-item input[type="text"],
.form-item input[type="number"],
.form-item input[type="file"],
.form-item input[type="button"]  {
  padding: 10px 12px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
  outline: none;
  transition: all 0.2s;
}

.form-item input[type="text"]:focus,
.form-item input[type="number"]:focus {
  border-color: #ff7aa2;
  box-shadow: 0 0 5px rgba(255,122,162,0.3);
}

#add-tracker-btn {
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: 8px;
  background-color: #ff7aa2;
  color: #fff;
  font-weight: bold;
  font-size: 16px;
  cursor: pointer;
  transition: background 0.2s;
}

#add-tracker-btn:hover {
  background-color: #ff6090;
}

/* ëª¨ë‹¬ ë°°ê²½ */
.modal {
  display: none; 
  position: fixed; 
  z-index: 1000; 
  left: 0; top: 0; 
  width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.5); 
  justify-content: center; 
  align-items: center;
}

/* ëª¨ë‹¬ ì½˜í…ì¸  */
.modal-content {
  background: #fff;
  padding: 16px;
  border-radius: 10px;
  width: 90%;
  max-width: 400px;
  max-height: 80%;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* ë‹«ê¸° ë²„íŠ¼ */
.close-btn {
  align-self: flex-end;
  cursor: pointer;
  font-size: 20px;
}

/* ì´ë¯¸ì§€ ê·¸ë¦¬ë“œ */
.image-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
}

/* ì´ë¯¸ì§€ ì•„ì´í…œ */
.image-item {
  width: 100%;
  padding-top: 100%; /* ì •ì‚¬ê°í˜• ìœ ì§€ */
  position: relative;
  background: #f0f0f0;
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
}

.image-item img {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  object-fit: cover;
}

/* ì—…ë¡œë“œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.upload-item {
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 12px;
  color: #555;
  background: #e0e0e0;
  font-weight: bold;
}
.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.modal-header h3 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: #333;
}

.close-btn {
  cursor: pointer;
  font-size: 20px;
  color: #555;
}
  </style>
</head>
<body>

  <!-- ìƒë‹¨ ë©”ë‰´ -->
  <header>
    <div class="header-left">Goal Tracker</div>
    <div class="header-right">
      <button id="add-btn">â•</button>
      <button id="settings-btn">âš™ï¸</button>
    </div>
  </header>
  <div class="add-tracker-page page">
  <h2>ìƒˆ ë‹¬ì„±í‘œ ì¶”ê°€</h2>

  <div class="form-item">
    <label for="tracker-name">ë‹¬ì„±í‘œëª…</label>
    <input type="text" id="tracker-name" placeholder="ì˜ˆ: 7ì¼ ë‹¬ì„±í‘œ">
  </div>

  <div class="form-item">
    <label for="tracker-count">ê°œìˆ˜</label>
    <input type="number" id="tracker-count" placeholder="ìˆ«ìë§Œ ì…ë ¥">
  </div>

<div class="form-item">
  <label for="tracker-image-before">ì´ë¯¸ì§€ ë“±ë¡ (ë‹¬ì„± í›„)</label>
    <!-- ì´ë¯¸ì§€ ë“±ë¡ ë²„íŠ¼ -->
    <input type="button" id="open-image-modal" value="ì´ë¯¸ì§€ ì„ íƒ">
</div>

<div class="form-item">
  <label for="tracker-image-after">ì´ë¯¸ì§€ ë“±ë¡ (ë‹¬ì„± í›„)</label>
  <input type="file" id="tracker-image-after" accept="image/*">
</div>

  <button id="add-tracker-btn" href="/tracker_01.html">ì¶”ê°€</button>
</div>

<!-- ì´ë¯¸ì§€ ëª¨ë‹¬ -->
<div id="image-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>ì´ë¯¸ì§€ ì„ íƒ</h3>
      <span class="close-btn">&times;</span>
    </div>
    <div class="image-grid">
      <div class="image-item upload-item">ì§ì ‘ ì—…ë¡œë“œí•˜ê¸°</div>
      <div class="image-item"><img src="image1.png" alt=""></div>
      <div class="image-item"><img src="image2.png" alt=""></div>
      <div class="image-item"><img src="image3.png" alt=""></div>
      <!-- í•„ìš”ì— ë”°ë¼ ë” ì¶”ê°€ -->
    </div>
  </div>
</div>

  <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
  <nav class="bottom-nav">
    <button class="nav-item active">
      <span>ğŸ </span>
      <span class="label">í™ˆ</span>
    </button>
    <button class="nav-item">
      <span>ğŸ“Š</span>
      <span class="label">í†µê³„</span>
    </button>
    <button class="nav-item">
      <span>âš™ï¸</span>
      <span class="label">ì„¤ì •</span>
    </button>
  </nav>

  <script>

// ë°”ê¹¥ í´ë¦­ ì‹œ ë‹«ê¸°
document.addEventListener("click", (e) => {
  if (!e.target.closest(".list-item")) {
    document.querySelectorAll(".list-item").forEach(i => i.classList.remove("show"));
  }
});

const pages = {
  home: document.querySelector(".list"),
  settings: document.getElementById("settings-page")
};

const navButtons = document.querySelectorAll(".bottom-nav .nav-item");

navButtons.forEach((btn, index) => {
  btn.addEventListener("click", () => {
    // active í´ë˜ìŠ¤ ê°±ì‹ 
    navButtons.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");

    // í˜ì´ì§€ ì „í™˜
    Object.values(pages).forEach(p => p.style.display = "none");
    if (index === 2) { // ì„¤ì • ë©”ë‰´
      pages.settings.style.display = "block";
    } else {
      pages.home.style.display = "block";
    }
  });
});

const modal = document.getElementById("image-modal");
const openBtn = document.getElementById("open-image-modal");
const closeBtn = document.querySelector(".close-btn");

openBtn.addEventListener("click", () => {
  modal.style.display = "flex";
});

closeBtn.addEventListener("click", () => {
  modal.style.display = "none";
});

// ëª¨ë‹¬ ë°”ê¹¥ í´ë¦­ ì‹œ ë‹«ê¸°
window.addEventListener("click", (e) => {
  if (e.target === modal) modal.style.display = "none";
});

// ì§ì ‘ ì—…ë¡œë“œ ë²„íŠ¼ í´ë¦­
document.querySelector(".upload-item").addEventListener("click", () => {
  const fileInput = document.createElement("input");
  fileInput.type = "file";
  fileInput.accept = "image/*";
  fileInput.click();
  fileInput.addEventListener("change", (e) => {
    // ì„ íƒí•œ ì´ë¯¸ì§€ ì²˜ë¦¬ ë¡œì§ ì¶”ê°€ ê°€ëŠ¥
    console.log(e.target.files[0]);
  });
});

  </script>

</body>
</html>
